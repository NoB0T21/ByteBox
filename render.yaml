services:
  # Backend API (Web Service)
  - name: bytebox-backend
    type: web
    env: node
    rootDir: backend
    buildCommand: "npm install && npm run build"
    startCommand: "npm run start"
    envVars:
      - key: REDIS_HOST
        value: bytebox-redis
      - key: REDIS_PORT
        value: 6379

  # Redis running as a DOCKER Web Service (NOT private_service)
  - name: bytebox-redis
    type: web        # ‚Üê IMPORTANT: must be "web"
    env: docker
    rootDir: backend/redis
    dockerfilePath: backend/redis/Dockerfile
    plan: free
    disk:
      name: redis-data
      mountPath: /data
      sizeGB: 1
